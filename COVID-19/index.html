<html>

<head>
    <title>新冠肺炎-时间轴-对比搜索</title>
    <meta charset="utf-8">
    <style>
	.td {border:#000000 solid 6px; padding:8px;}
    </style>
    <script src="data.json"></script>
    <script src="jquery-3.4.1.js"></script>
    <script>
        $(document).ready(function() {
            var seach = $("#seach");
            seach.keyup(function(event) {
                var seachText = $("#seach").val();
                if (seachText != "") {
                    //构造显示页面
                    var tab = "";
                    //遍历解析json
                    $.each(data, function(id, item) {
                        //如果包含则为table赋值
                        if (item.content.indexOf(seachText) != -1) {
                            tab += "<tr align='left'><td class='td'>" + item.date + "，" + item.content + "</td></tr>";
                        }
                    })
                    tab += "";
                    $("#div").html(tab);
                    //重新覆盖掉，不然会追加
                    tab = "";
                } else {
                    $("#div").html("");
                }
                // }
            })


            var seach = $("#seach-2");
            seach.keyup(function(event) {
                var seachText = $("#seach-2").val();
                if (seachText != "") {
                    var tab = "";
                    $.each(data, function(id, item) {
                        if (item.content.indexOf(seachText) != -1) {
                            tab += "<tr align='left'><td  class='td'>" + item.date + "，" + item.content + "</td></tr>";
                        }
                    })
                    tab += "";
                    $("#div2").html(tab);
                    tab = "";
                } else {
                    $("#div2").html("");
                }
                // }
            })
        });
    </script>
</head>

<body>
    <center>
        <p style="font:20;">
        <table width="100%" border='0'><tr>
        <td align="center">关注1：<input style="font:28px arial; height:1.8em; width:200px;text-align:center" id="seach" /></td>
        <td align="center">关注2：<input style="font:28px arial; height:1.8em; width:200px;text-align:center" id="seach-2" /></td>
        </tr></table>
       </p>

        <table width="100%" border='0' cellpadding='0' cellspacing='0'>
            <tr valign="top">
                <td width="48%"  >
                    <div id="div"></div>
                </td>
                <td width="48%" >
                    <div id="div2"></div>
            </tr>
        </table>
        
        <br>

        <p>数据来源：<a href="https://github.com/Pratitya/wuhan2020-timeline/blob/master/%E6%97%B6%E9%97%B4%E7%BA%BFTIMELINE.md">疫情与舆情:武汉新冠肺炎时间线</p>

    </center>
</body>

</html>
